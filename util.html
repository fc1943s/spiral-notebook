---

title: spiral


keywords: fastai
sidebar: home_sidebar



nb_path: "00_util.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_util.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">pip</span> install nbdev | grep -v &#39;already satisfied&#39;
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-yellow-fg">WARNING: Ignoring invalid distribution -ip (/opt/python/3.10.4/lib/python3.10/site-packages)</span><span class="ansi-yellow-fg">
</span><span class="ansi-yellow-fg">WARNING: Ignoring invalid distribution -ip (/opt/python/3.10.4/lib/python3.10/site-packages)</span><span class="ansi-yellow-fg">
</span><span class="ansi-yellow-fg">WARNING: Ignoring invalid distribution -ip (/opt/python/3.10.4/lib/python3.10/site-packages)</span><span class="ansi-yellow-fg">
</span><span class="ansi-yellow-fg">WARNING: Ignoring invalid distribution -ip (/opt/python/3.10.4/lib/python3.10/site-packages)</span><span class="ansi-yellow-fg">
</span><span class="ansi-yellow-fg">WARNING: Ignoring invalid distribution -ip (/opt/python/3.10.4/lib/python3.10/site-packages)</span><span class="ansi-yellow-fg">
</span><span class="ansi-yellow-fg">WARNING: Ignoring invalid distribution -ip (/opt/python/3.10.4/lib/python3.10/site-packages)</span><span class="ansi-yellow-fg">
</span>Note: you may need to restart the kernel to use updated packages.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">lib_py.ipython_magic</span> <span class="k">as</span> <span class="nn">ipython_magic</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="k">spi</span>

nominal _obj = $&quot;obj&quot;

inl test b = assert b &quot;test&quot;
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;magic:d8f9c0f4186843d8bb9c8dbad627bb30&gt;
</pre>
</div>
</div>

<div class="output_area">




<div id="7b26f595-1d72-4ada-961c-14f0a9c6a2ca" class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#7b26f595-1d72-4ada-961c-14f0a9c6a2ca');
IPython.notebook.save_checkpoint();
</script>
</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;util.spi&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="node">node<a class="anchor-link" href="#node"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="k">node</span> export

export type PickByType&lt;T, Value&gt; = {
    [P in keyof T as T[P] extends Value | undefined ? P : never]: T[P]
}
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;util.ts&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="k">node</span> export

import * as fs from &quot;fs&quot;

var start = process.hrtime()

export var elapsed = (start: [number, number]) =&gt; process.hrtime(start)[1] / 1000000
export var logStep = (note: string) =&gt; {
    console.log(`${process.hrtime(start)[0]} s, ${elapsed(start).toFixed(3)} ms - ${note}`)
    start = process.hrtime()
}
export var sleep = (ms: number) =&gt; new Promise(resolve =&gt; setTimeout(resolve, ms))
export var waitFileChange = async (path: string) =&gt; {
    var start = process.hrtime()
    const stat_mtime = fs.statSync(path).mtimeMs
    while (elapsed(start) &lt; 30000
        &amp;&amp; (fs.statSync(path).mtimeMs === stat_mtime
            || fs.readFileSync(path).length === 0)) {
        await sleep(50)
    }
}
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;util.ts&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%</span><span class="k">node</span> export

export var timeout = async &lt;T&gt;(prom: Promise&lt;T&gt;, ms: number) =&gt; {
	let timer
	try {
        return await Promise.race([
            prom,
            new Promise((_r, rej) =&gt; timer = setTimeout(rej, ms, new Error(&#39;timeout&#39;)))
        ])
    } finally {
        return clearTimeout(timer)
    }
}
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;util.ts&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="python">python<a class="anchor-link" href="#python"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="new_id" class="doc_header"><code>new_id</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L9" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>new_id</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="list_partition" class="doc_header"><code>list_partition</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>list_partition</code>(<strong><code>lines</code></strong>, <strong><code>predicate</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="write_file" class="doc_header"><code>write_file</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L18" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>write_file</code>(<strong><code>filename</code></strong>, <strong><code>text</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_file" class="doc_header"><code>read_file</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L22" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_file</code>(<strong><code>filename</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_notebook_name" class="doc_header"><code>get_notebook_name</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L36" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_notebook_name</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_notebook_name</span> <span class="o">=</span> <span class="n">get_notebook_name</span><span class="p">()</span>
<span class="n">_notebook_name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;util&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="run_shell" class="doc_header"><code>run_shell</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L65" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>run_shell</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="run" class="doc_header"><code>run</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L72" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>run</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="run_node" class="doc_header"><code>run_node</code><a href="https://github.com/fc1943s/tictactoe_spiral/lib_py/util.py#L80" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>run_node</code>(<strong><code>code</code></strong>, <strong><code>timeout</code></strong>=<em><code>60</code></em>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="py-compile">py compile<a class="anchor-link" href="#py-compile"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>nbdev_build_lib
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_util.ipynb.
Converted 01_spiral_api.ipynb.
Converted 02_ipython_magic.ipynb.
Converted 03_algo_network.ipynb.
Converted 04_tictactoe_pyteal.ipynb.
Converted 05_tictactoe_testnet.ipynb.
Converted 06_index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>


